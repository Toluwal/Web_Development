<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Exercise 7</title>
</head>
<body>
    <script>
        function productCalculator(price, productType, isWholesaler) {
            let discount = 0;
            if (productType === "Coke") {
                discount = 0.01;
            } else if(productType === "Fanta") {
                discount = 0.01;
            } else if (productType === "Schweppes"){
                discount = 0.05;
            } else if (productType === "Five alive"){
                discount = 0.10;
            }
            if (isWholesaler) {
                discount += 0.20;
            }
            let finalPrice = price * (1 - discount);
            return {
                originalPrice: price,
                discountPercent: discount * 100,
                finalPrice: finalPrice.toFixed(2)
            };
        }

        let result = productCalculator(600, "coke", true);
        console.log("Product Calculator:");
        console.log(`Original: $${result.originalPrice}`);
        console.log(`Discount: ${result.discountPercent}%`);
        console.log(`final Price: $${result.finalPrice}`);


        function taxCalculator(payment, location) {
            let taxRate = 0;
            if (location === "Abuja") {
                taxRate = 0.10;
            } if (location === "Lagos") {
                taxRate = 0.20;
            } if (location === "Ibadan") {
                taxRate = 0.05;
            } if (location === "Asaba"){
                taxRate = 0.15;
            }
        
        let finalTaxPayment = payment * (1- taxRate);
        return {
            orignalPayment: payment,
            taxRatePercent: taxRate * 100,
            finalTaxPayment: finalTaxPayment.toFixed(2)
        };
        }
    
        let payment = taxCalculator(5000, "Lagos")
        console.log('Tax calculator');
        console.log(`original: $${payment.orignalPayment}`);
        console.log(`Tax Rate: ${payment.taxRatePercent}%`);
        console.log(`Final Tax Payment: $${payment.finalTaxPayment}`);

        function shippingCalculator(weight, distance) {
            let cost = 0;
            if (weight <= 50 && distance <= 100){
                cost = (weight * 5) + (distance * 0.5)
            } else if (weight>50 && distance > 100) {
                cost = (weight * 3) + (distance * 0.3) 
            } else {
                cost = (weight * 2) + (distance * 0.2);
            }
            return cost;

        }

        console.log(shippingCalculator(50, 100))
        console.log(shippingCalculator(75, 100))
        

        function membershipDiscount(total, memberBenefit){ 
            let discount = 0;
            if (memberBenefit === "Basic membership"){
                discount = 0.05;
            } else if (memberBenefit ==="Premium membership"){
                discount = 0.10;
            } else if (memberBenefit === "Family membership" ){
                discount = 0.20;
            }
            return total - (total * discount);
        }
        console.log(membershipDiscount (4500, "Basic membership"));
        console.log(membershipDiscount (4500, "Premium membership"));
        console.log(membershipDiscount (4500, "Family membership"));

        // Receipt Generator
function generateReceipt(price, productType, isWholesaler, location, weight, distance, memberBenefit) {
    console.log("----- FINAL RECEIPT -----");

    // 1. Product + discount
    let product = productCalculator(price, productType, isWholesaler);
    console.log(`Product: ${productType}`);
    console.log(`Original Price: $${product.originalPrice}`);
    console.log(`Discount Applied: ${product.discountPercent}%`);
    console.log(`Price After Discount: $${product.finalPrice}`);

    // 2. Shipping cost
    let shipping = shippingCalculator(weight, distance);
    console.log(`Shipping Cost: $${shipping.toFixed(2)}`);

    // 3. Tax
    let tax = taxCalculator(Number(product.finalPrice) + shipping, location);
    console.log(`Location: ${location}`);
    console.log(`Tax Rate: ${tax.taxRatePercent}%`);
    console.log(`Price After Tax: $${tax.finalTaxPayment}`);

    // 4. Membership Discount
    let finalTotal = membershipDiscount(Number(tax.finalTaxPayment), memberBenefit);
    console.log(`Membership: ${memberBenefit}`);
    console.log(`Final Payable Amount: $${finalTotal.toFixed(2)}`);

    console.log("--------------------------");
    return finalTotal;
}


    </script>
</body>
</html>